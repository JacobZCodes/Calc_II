<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Geometric</title>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ['$', '$'],
            ['\\(', '\\)']
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
    <style>
      @font-face {
        font-family: 'TangoSans_Bold';
        src: url('tangosans/TangoSans_Bold.ttf') format('truetype');
      }

      body {
        background-color: #000;
        color: #00ccff;
        font-family: 'TangoSans_Bold', sans-serif;
        text-align: center;
        padding: 2em;
      }

      .box {
        display: flex;
        flex-direction: column;
        width: 420px;
        margin: 0 auto;
        align-items: center;
        border: 2px solid #00ccff;
        border-radius: 10px;
        padding: 1.5em;
        background-color: #111;
        box-shadow: 0 0 12px #00ccff55;
        gap: 10px;
      }

      .question {
        display: flex;
        align-items: center;
        gap: 0.5em;
      }

      input[type="text"] {
        background-color: #111;
        /* dark input background */
        color: #00ccff;
        /* cyan text color */
        border: 1px solid #00ccff;
        /* cyan border */
        border-radius: 4px;
        /* rounded corners */
        padding: 10px 12px;
        font-size: 16px;
        width: 20%;
        height: 3px;
        box-shadow: 0 0 8px #00ccff33;
        /* subtle cyan glow */
        outline: none;
        transition: box-shadow 0.3s ease, border-color 0.3s ease;
      }

      input[type="text"]:focus {
        border-color: #33ffff;
        box-shadow: 0 0 12px #33ffff;
      }

      button {
        margin-top: 1em;
        padding: 12px 24px;
        font-size: 16px;
        font-weight: bold;
        color: #000;
        background-color: #00ccff;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.3s ease;
        animation: fadeIn 1s forwards;
      }

      button:hover {
        transform: scale(1.05);
        box-shadow: 0 0 15px #00ccff;
        /* animation: fadeIn 1s forwards; */
      }

      button:active {
        transform: scale(0.95);
        /* animation: fadeIn 1s forwards; */
      }

      input[type="text"].sequence {
        position: relative; bottom: 10px; right: 5px; width: 0px;      
    }
    </style>
  </head>
  <body>
    <h2>Geometric Series</h2>
    <p>Recall our earlier definition of a <span style="color: green;">geometric sequence</span>
    </p>
    <p>So we can define our geometric series as: <span style="color: green;">geometric series latex</span>
    </p>
    <div style="display: flex; flex-wrap: wrap;">
      <div class="box" style="width: 475px;">
        <h3 style="margin: 0 auto; padding-bottom: 0.5em;">S_n</h3>
        <div class="question" style="position: relative;right: 37px;">
          <label>\(S_2= ar^0 + ar^1\)</label>
        </div>
        <div class="question">
          <label>\(S_3=ar^0\)</label>
          <!-- <input id="s3" type="text"> -->
          <label>\( + ar\)</label>
          <input class="sequence" type="text" >
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
        </div>
        <div class="question">
          <label>\(S_4=ar^0\)</label>
          <!-- <input id="s3" type="text"> -->
          <label>\( + ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
        </div>
        <div class="question">
          <label>\(S_n=ar^0\)</label>
          <!-- <input id="s3" type="text"> -->
          <label>\( + ar\)</label>
          <input type="text" class="sequence">
          <label>\(+ ar\)</label>
          <input type="text" class="sequence">
          <label>\(+ ar\)</label>
          <input type="text" class="sequence">
          <label>\(+ ar\)</label>
          <input type="text" class="sequence">
          <label>\(...+ ar\)</label>
          <input type="text" class="sequence">
        </div>
        <div id="button-space" style="width:100px; margin: 0 auto; padding-top: 10px;">
          <button id="check-answers-btn" style="position: relative;">Check Answers</button>
        </div>
      </div>
      <div class="box" style="width: 485px;">
        <h3 style="margin: 0 auto; padding-bottom: 0.5em;">rS_n</h3>
        <div class="question" style="position: relative;right: 37px;">
          <label>\(r*S_2= ar^1 + ar^2\)</label>
        </div>
        <div class="question">
          <label>\(r*S_3=ar^1\)</label>
          <!-- <input id="s3" type="text"> -->
          <label>\( + ar\)</label>
          <input type="text" class="sequence">
          <label>\(+ ar\)</label>
          <input type="text" class="sequence">
          <label>\(+ ar\)</label>
          <input type="text" class="sequence">
        </div>
        <div class="question">
          <label>\(r*S_4=ar^1\)</label>
          <!-- <input id="s3" type="text"> -->
          <label>\( + ar\)</label>
          <input class="sequence"type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
        </div>
        <div class="question">
          <label>\(r*S_n=ar^1\)</label>
          <!-- <input id="s3" type="text"> -->
          <label>\( + ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence" type="text">
          <label>\(+ ar\)</label>
          <input class="sequence"type="text">
          <label>\(...+ ar\)</label>
          <input class="sequence"type="text">
        </div>
        <div id="button-space" style="width:100px; margin: 0 auto; padding-top: 10px;">
          <button id="check-answers-btn" style="position: relative;">Check Answers</button>
        </div>
      </div>
      <div class="box">
        <h3 style="margin: 0 auto; padding-bottom: 0.5em;">Finding S_n</h3>
        <div class="question" style="position: relative;right: 37px;">
          <label>\(S_n - rS_n= a - a\)</label>
          <input type="text">
        </div>
        <div class="question" style="position: relative;right: 37px;">
          <label>\(S_n =\)</label>
          <input type="text">
        </div>
        <div class="question" style="position: relative;right: 37px;">
            <label>\(S_n = \frac{a(1-r^n)}{1-r}\)</label>
        </div>
        <div id="button-space" style="width:100px; margin: 0 auto; padding-top: 10px;">
          <button id="check-answers-btn" style="position: relative;">Check Answers</button>
        </div>
      </div>
      <div class="box" style="width: 900px; gap: 10px;">
        <h3 style="margin: 0 auto; padding-bottom: 0.5em;">PLaying with Limit</h3>
        <div style="display: flex; gap: 150px;">
            <div>
                <div style="display: flex;">Input value for a: <input type="text" id="a" style="position: relative; left: 10px;"></div>
                <div style="display: flex;">Input value for r: <input type="text" id="r" style="position: relative; left: 10px;"></div>
                <div id="button-space" style="width:100px; margin: 0 auto; padding-top: 10px;">
                <button id="submit-constants-btn" style="position: relative;">Submit Constants</button>
                </div>            
            </div>
            <div class="question" style="position: relative;right: 37px; font-size: larger; gap: 50px;">
                <div style="display: flex; flex-direction: column;">
                    <label id="limit-label">\(\lim_{n \to \infty} \frac{a(1-r^n)}{1-r}=\)</label>
                    <input id="slider" type="range" min="0" max="100" value="0">
                    <span id="n">n=0</span>
                </div>                
                <div id="RHS" style="position: relative; bottom: 19px; right: 20px; width: 215px;">\(?\)</div>
            </div>
        </div>
      </div>
    </div>

    <script>
        
        submitConstantsBtn = document.getElementById("submit-constants-btn");
        slider = document.getElementById("slider");
        nLabel = document.getElementById("n");
        let a;
        let r;

        submitConstantsBtn.addEventListener("click", function() {
            // get values for a + r 
            a = parseFloat (document.getElementById("a").value);
            r = parseFloat (document.getElementById("r").value);
            // get limitLabel + rewrite limit label
            let limitLabel = document.getElementById("limit-label");
            let innerHTMLForLimitLabel = `\\(\\lim_{n \\to \\infty} \\frac{${a}(1-${r}^n)}{1-${r}}=\\)`;
            limitLabel.innerHTML = innerHTMLForLimitLabel;
            MathJax.typeset();
        })

        slider.addEventListener("input", function() {
            // get current value 
            let n = slider.value;
            // update span tag
            nLabel.innerHTML = `n=${n}`;
            // get current limit value
            let limitValue = limitFunction(a,r,n);
            // update RHS
            updateRHS(limitValue);
        })

        function limitFunction(a,r,n) {
            let num = a * (1-r**n);
            let denom = 1 - r;
            let quotient = num/denom;
            console.log(quotient)
            return quotient;
        }
        
        function updateRHS(val){
            document.getElementById("RHS").innerHTML = `\\(${val}\\)`;
            MathJax.typeset();
        }
    </script>
  </body>
</html>